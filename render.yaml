services:
  - type: web
    name: medical-insurance-predictor
    env: python
    plan: free
    buildCommand: "pip install --upgrade pip && pip install -r requirements.txt"
    startCommand: "gunicorn app:app"
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.9
    # Add this section to ensure Python 3.11
    dockerFile: |
      FROM python:3.11.9-slim
      WORKDIR /app
      COPY . .
      RUN pip install --upgrade pip && pip install -r requirements.txt
      CMD ["gunicorn", "app:app"]
